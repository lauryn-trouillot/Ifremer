

     ______  ____   ____  ____   ____  ______  __ __
    |      ||    \ |    ||    \ |    ||      ||  |  |
    |      ||  D  ) |  | |  _  | |  | |      ||  |  |
    |_|  |_||    /  |  | |  |  | |  | |_|  |_||  ~  |
      |  |  |    \  |  | |  |  | |  |   |  |  |___, |
      |  |  |  .  \ |  | |  |  | |  |   |  |  |     |
      |__|  |__|\_||____||__|__||____|  |__|  |____/

    Trinity-v2.8.5



Left read files: $VAR1 = [
          '/home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz'
        ];
Right read files: $VAR1 = [
          '/home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz'
        ];
Trinity version: Trinity-v2.8.5
** NOTE: Latest version of Trinity is Trinity-v2.15.2, and can be obtained at:
	https://github.com/trinityrnaseq/trinityrnaseq/releases

Friday, October 18, 2024: 15:34:54	CMD: java -Xmx64m -XX:ParallelGCThreads=2  -jar /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/support_scripts/ExitTester.jar 0
Friday, October 18, 2024: 15:34:54	CMD: java -Xmx4g -XX:ParallelGCThreads=2  -jar /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/support_scripts/ExitTester.jar 1
Friday, October 18, 2024: 15:34:54	CMD: mkdir -p /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis


----------------------------------------------------------------------------------
-------------- Trinity Phase 1: Clustering of RNA-Seq Reads  ---------------------
----------------------------------------------------------------------------------

---------------------------------------------------------------
------------ In silico Read Normalization ---------------------
-- (Removing Excess Reads Beyond 200 Coverage --
---------------------------------------------------------------

# running normalization on reads: $VAR1 = [
          [
            '/home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz'
          ],
          [
            '/home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz'
          ]
        ];


Friday, October 18, 2024: 15:34:54	CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/insilico_read_normalization.pl --seqType fq --JM 100G  --max_cov 200 --min_cov 1 --CPU 28 --output /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization --max_CV 10000  --left /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz --right /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz --pairs_together --PARALLEL_STATS  
-prepping seqs
Converting input files. (both directions in parallel)CMD: seqtk-trinity seq -A <(gunzip -c /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz) >> left.fa
CMD: seqtk-trinity seq -A <(gunzip -c /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz) >> right.fa
CMD finished (94 seconds)
CMD finished (99 seconds)
CMD: touch left.fa.ok
CMD finished (0 seconds)
CMD: touch right.fa.ok
CMD finished (0 seconds)
Done converting input files.CMD: cat left.fa right.fa > both.fa
CMD finished (26 seconds)
CMD: touch both.fa.ok
CMD finished (0 seconds)
-kmer counting.
-------------------------------------------
----------- Jellyfish  --------------------
-- (building a k-mer catalog from reads) --
-------------------------------------------

CMD: jellyfish count -t 28 -m 25 -s 13001475680  --canonical  both.fa
CMD finished (179 seconds)
CMD: jellyfish histo -t 28 -o jellyfish.K25.min2.kmers.fa.histo mer_counts.jf
CMD finished (52 seconds)
CMD: jellyfish dump -L 2 mer_counts.jf > jellyfish.K25.min2.kmers.fa
CMD finished (122 seconds)
CMD: touch jellyfish.K25.min2.kmers.fa.success
CMD finished (0 seconds)
-generating stats files
CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/..//Inchworm/bin/fastaToKmerCoverageStats --reads left.fa --kmers jellyfish.K25.min2.kmers.fa --kmer_size 25  --num_threads 14  --DS  > left.fa.K25.stats
CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/..//Inchworm/bin/fastaToKmerCoverageStats --reads right.fa --kmers jellyfish.K25.min2.kmers.fa --kmer_size 25  --num_threads 14  --DS  > right.fa.K25.stats
-reading Kmer occurrences...
-reading Kmer occurrences...

 done parsing 278396143 Kmers, 278396143 added, taking 289 seconds.

 done parsing 278396143 Kmers, 278396143 added, taking 307 seconds.
STATS_GENERATION_TIME: 676 seconds.
STATS_GENERATION_TIME: 683 seconds.
CMD finished (1030 seconds)
CMD finished (1050 seconds)
CMD: touch left.fa.K25.stats.ok
CMD finished (0 seconds)
CMD: touch right.fa.K25.stats.ok
CMD finished (0 seconds)
-sorting each stats file by read name.
CMD: head -n1 left.fa.K25.stats > left.fa.K25.stats.sort && tail -n +2 left.fa.K25.stats | /bin/sort --parallel=28 -k1,1 -T . -S 50G >> left.fa.K25.stats.sort
CMD: head -n1 right.fa.K25.stats > right.fa.K25.stats.sort && tail -n +2 right.fa.K25.stats | /bin/sort --parallel=28 -k1,1 -T . -S 50G >> right.fa.K25.stats.sort
CMD finished (17 seconds)
CMD finished (17 seconds)
CMD: touch left.fa.K25.stats.sort.ok
CMD finished (0 seconds)
CMD: touch right.fa.K25.stats.sort.ok
CMD finished (0 seconds)
-defining normalized reads
CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/..//util/support_scripts//nbkc_merge_left_right_stats.pl --left left.fa.K25.stats.sort --right right.fa.K25.stats.sort --sorted > pairs.K25.stats
-opening left.fa.K25.stats.sort
-opening right.fa.K25.stats.sort
-done opening files.
CMD finished (576 seconds)
CMD: touch pairs.K25.stats.ok
CMD finished (0 seconds)
CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/..//util/support_scripts//nbkc_normalize.pl --stats_file pairs.K25.stats --max_cov 200  --min_cov 1 --max_CV 10000 > pairs.K25.stats.C200.maxCV10000.accs
29301929 / 42280859 = 69.30% reads selected during normalization.
0 / 42280859 = 0.00% reads discarded as likely aberrant based on coverage profiles.
0 / 42280859 = 0.00% reads discarded as below minimum coverage threshold=1
CMD finished (388 seconds)
CMD: touch pairs.K25.stats.C200.maxCV10000.accs.ok
CMD finished (0 seconds)
-search and capture.
-preparing to extract selected reads from: /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz ... done prepping, now search and capture.
-capturing normalized reads from: /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R1.fastq.gz
-preparing to extract selected reads from: /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz ... done prepping, now search and capture.
-capturing normalized reads from: /home1/datawork/ltrouill/ifremer/data/rawdata/illumina/Karlodinium_karmit/10_R2.fastq.gz
CMD: touch /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R1.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq.ok
CMD finished (0 seconds)
CMD: touch /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R2.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq.ok
CMD finished (0 seconds)
CMD: ln -sf /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R1.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq left.norm.fq
CMD finished (0 seconds)
CMD: ln -sf /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R2.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq right.norm.fq
CMD finished (0 seconds)
-removing tmp dir /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/tmp_normalized_reads


Normalization complete. See outputs: 
	/home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R1.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq
	/home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/10_R2.fastq.gz.normalized_K25_maxC200_minC1_maxCV10000.fq
Friday, October 18, 2024: 16:26:32	CMD: touch /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/normalization.ok
Converting input files. (in parallel)Friday, October 18, 2024: 16:26:32	CMD: cat /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/left.norm.fq | seqtk-trinity seq -A - >> left.fa
Friday, October 18, 2024: 16:26:32	CMD: cat /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/insilico_read_normalization/right.norm.fq | seqtk-trinity seq -A - >> right.fa
Friday, October 18, 2024: 16:27:17	CMD: touch left.fa.ok
Friday, October 18, 2024: 16:27:17	CMD: touch right.fa.ok
Friday, October 18, 2024: 16:27:17	CMD: touch left.fa.ok right.fa.ok
Friday, October 18, 2024: 16:27:17	CMD: cat left.fa right.fa > /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa
Friday, October 18, 2024: 16:27:36	CMD: touch /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa.ok
-------------------------------------------
----------- Jellyfish  --------------------
-- (building a k-mer catalog from reads) --
-------------------------------------------

* Running CMD: jellyfish count -t 28 -m 25 -s 13719078669  --canonical  /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa
* Running CMD: jellyfish dump -L 1 mer_counts.jf > jellyfish.kmers.fa
* Running CMD: jellyfish histo -t 28 -o jellyfish.kmers.fa.histo mer_counts.jf
----------------------------------------------
--------------- Inchworm ---------------------
-- (Linear contig construction from k-mers) --
----------------------------------------------

* Running CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/Inchworm/bin//inchworm --kmers jellyfish.kmers.fa --run_inchworm -K 25 -L 25 --monitor 1   --DS  --num_threads 6  --PARALLEL_IWORM  > /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/inchworm.K25.L25.DS.fa.tmp
* Running CMD: mv /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/inchworm.K25.L25.DS.fa.tmp /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/inchworm.K25.L25.DS.fa
Friday, October 18, 2024: 17:15:39	CMD: touch /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/inchworm.K25.L25.DS.fa.finished
--------------------------------------------------------
-------------------- Chrysalis -------------------------
-- (Contig Clustering & de Bruijn Graph Construction) --
--------------------------------------------------------

inchworm_target: /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa
bowite_reads_fa: /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa
chrysalis_reads_fa: /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa
* Running CMD: /appli/conda-env/bioinfo/trinity-2.8.5/opt/trinity-2.8.5/util/support_scripts/filter_iworm_by_min_length_or_cov.pl /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/inchworm.K25.L25.DS.fa 100 10 > /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis/inchworm.K25.L25.DS.fa.min100
* Running CMD: /appli/conda-env/bioinfo/trinity-2.8.5/bin/bowtie2-build --threads 28 -o 3 /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis/inchworm.K25.L25.DS.fa.min100 /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis/inchworm.K25.L25.DS.fa.min100 1>/dev/null
* Running CMD: bash -c " set -o pipefail;/appli/conda-env/bioinfo/trinity-2.8.5/bin/bowtie2 --local -k 2 --no-unal --threads 28 -f --score-min G,20,8 -x /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis/inchworm.K25.L25.DS.fa.min100 /home1/datawork/ltrouill/ifremer/results/illumina/trinity_test/both.fa  | samtools view -@ 28 -F4 -Sb - | samtools sort -m 1917396114 -@ 28 -no - - > /home1/datawork/ltrouill/ifremer//results/illumina/trinity_test/chrysalis/iworm.bowtie.nameSorted.bam" 
